#include "common_main.h"
#include "naive_cc.h"  // defined in generated

class my_main: public main_t
{
public:
    long* membership;
    long  num_membership;
    long* id;
    virtual ~my_main() {
        delete[] id;
	delete[] membership;
    }

    my_main() : membership(NULL), num_membership(0),id(NULL) {
    }

    virtual bool prepare() {
        membership = new long[G.num_nodes()];
        num_membership = 0;
	id = new long[G.num_nodes()];
        return true;
    }

    virtual bool run() 
    {
	for(int i=0;i<G.num_nodes();i++){
	    id[i] = i;
	    membership[i] = i;
	}
	num_membership = naive_cc(G,membership,id);
        return true;
    }

    virtual bool post_process() {
        printf("num_membership = %lld\n", num_membership);
        return true;
    }
};
#define TEST_LARGE  1

int main(int argc, char** argv)
{
#if TEST_LARGE
    my_main M;
    M.main(argc, argv);
#else

   gm_graph G;

for(int i=0;i<=999;i++){
        G.add_node();
    }
int edges[][2] = {{482,487},{527,977},{211,465},{843,963},{256,409},{478,741},{90,291},{6,64},{109,406},{151,622},{356,388},{108,610},{231,890},{29,187},{92,387},{340,494},{100,292},{325,339},{10,882},{7,187},{377,820},{283,402},{9,482},{2,119},{119,704},{231,860},{67,358},{195,424},{186,584},{150,694},{226,779},{162,499},{645,997},{884,946},{497,594},{808,867},{2,710},{26,447},{295,536},{384,883},{243,430},{114,468},{258,932},{246,719},{759,948},{10,479},{311,538},{340,822},{802,925},{157,644},{57,266},{342,758},{243,590},{817,862},{54,413},{7,245},{395,474},{371,649},{20,414},{119,808},{579,833},{706,711},{250,771},{439,476},{553,577},{63,388},{282,743},{330,417},{56,255},{56,599},{12,874},{316,978},{198,652},{253,784},{214,837},{109,405},{324,658},{834,919},{347,522},{299,719},{832,949},{376,827},{672,986},{487,672},{639,691},{146,333},{50,471},{210,491},{982,990},{330,683},{36,136},{2,187},{476,828},{337,580},{481,816},{611,709},{190,589},{346,983},{339,987},{373,555},{205,206},{147,816},{62,117},{545,557},{504,936},{583,627},{152,710},{565,867},{182,701},{120,274},{642,740},{205,986},{536,860},{425,430},{222,735},{809,937},{653,734},{689,836},{245,803},{248,408},{180,569},{181,460},{225,522},{651,969},{606,881},{354,950},{679,983},{821,905},{126,955},{169,933},{111,662},{41,992},{775,939},{605,914},{63,358},{432,902},{60,805},{438,883},{453,779},{99,384},{73,210},{301,998},{357,460},{176,505},{459,694},{141,995},{172,751},{186,598},{734,834},{705,806},{360,520},{259,939},{363,913},{57,80},{156,587},{714,803},{127,466},{9,270},{133,543},{637,644},{747,869},{275,590},{500,818},{370,646},{312,547},{11,599},{10,75},{222,528},{72,513},{663,883},{217,614},{847,967},{632,835},{208,311},{294,859},{366,646},{452,588},{246,260},{179,880},{363,416},{507,706},{2,635},{250,268},{269,694},{553,804},{12,921},{702,874},{346,880},{300,623},{345,405},{58,348},{13,405},{2,654},{284,944},{376,627},{673,892},{65,471},{902,992},{668,973},{172,412},{129,235},{914,916},{106,458},{110,884},{45,756},{365,836},{56,679},{78,246},{166,255},{129,468},{562,746},{438,943},{546,551},{163,972},{39,346},{328,947},{268,340},{778,913},{335,633},{432,643},{120,431},{709,749},{311,579},{122,308},{61,76},{284,289},{151,685},{51,819},{274,339},{248,604},{217,335},{702,985},{189,737},{51,889},{96,545},{752,757},{709,714},{208,648},{882,976},{103,962},{53,793},{314,327},{464,590},{171,489},{176,483},{82,778},{72,297},{457,688},{92,971},{256,533},{235,342},{179,209},{286,840},{75,739},{505,773},{682,940},{556,996},{329,726},{202,646},{7,889},{50,444},{276,507},{162,908},{156,814},{217,666},{337,368},{45,186},{33,129},{193,237},{375,771},{476,892},{788,884},{43,110},{219,988},{757,769},{151,843},{521,537},{782,901},{189,195},{249,295},{328,453},{524,621},{269,562},{262,632},{356,693},{453,921},{200,533},{410,441},{1,65},{891,935},{499,538},{725,811},{399,459},{323,642},{310,937},{842,947},{927,953},{751,827},{752,953},{447,463},{340,608},{415,670},{555,766},{136,475},{371,677},{555,897},{958,976},{789,835},{320,515},{30,740},{226,400},{108,905},{866,963},{23,513},{77,81},{65,592},{111,120},{321,387},{345,554},{233,616},{415,922},{354,392},{79,110},{150,270},{212,293},{110,521},{140,831},{76,149},{534,876},{51,978},{72,963},{755,961},{253,293},{152,869},{33,210},{490,926},{188,862},{615,913},{400,738},{123,738},{162,602},{498,730},{431,493},{238,568},{659,676},{325,379},{88,682},{90,811},{641,808},{103,675},{267,740},{75,856},{91,641},{658,729},{384,750},{8,425},{647,654},{93,706},{8,325},{406,826},{797,918},{423,460},{534,936},{11,915},{110,622},{347,601},{354,891},{142,847},{5,543},{154,674},{235,820},{286,979},{148,459},{45,979},{71,210},{437,807},{360,611},{353,535},{400,568},{733,985},{56,107},{591,807},{173,725},{220,777},{524,799},{706,921},{582,985},{177,561},{287,750},{572,925},{36,815},{403,970},{102,744},{126,829},{323,870},{140,857},{54,219},{54,730},{405,876},{119,812},{408,627},{274,606},{55,984},{413,880},{149,977},{423,816},{664,971},{807,897},{103,564},{188,748},{576,664},{266,864},{544,648},{483,994},{359,504},{130,632},{351,533},{252,426},{765,787},{239,842},{81,318},{59,694},{889,916},{665,942},{239,541},{41,390},{103,417},{212,911},{276,281},{78,645},{125,534},{470,896},{210,851},{12,825},{43,534},{2,465},{276,924},{86,722},{186,388},{51,995},{705,976},{8,706},{492,781},{118,999},{250,716},{37,323},{0,233},{125,816},{152,356},{313,390},{140,519},{273,500},{771,908},{523,634},{170,266},{97,769},{880,970},{85,150},{725,759},{101,412},{195,271},{161,459},{81,251},{640,743},{82,407},{287,429},{569,851},{98,947},{217,856},{283,429},{398,953},{606,809},{602,677},{382,832},{99,992},{217,716},{295,777},{386,984},{554,915},{210,522},{492,821},{594,624},{357,547},{827,899},{432,844},{436,898},{626,953},{191,804},{775,970},{361,512},{183,361},{391,926},{283,423},{386,469},{39,492},{19,954},{717,910},{409,490},{30,710},{192,867},{321,416},{303,687},{209,837},{459,807},{112,886},{7,763},{241,601},{111,231},{371,811},{380,395},{203,407},{301,347},{412,591},{202,636},{507,624},{452,568},{628,671},{330,493},{711,865},{242,890},{164,974},{800,952},{620,835},{647,791},{567,731},{181,668},{372,629},{419,456},{658,782},{271,375},{785,968},{337,950},{59,614},{371,901},{163,714},{381,531},{733,884},{247,526},{308,740},{113,197},{649,957},{534,595},{518,584},{303,580},{370,384},{534,579},{69,600},{839,988},{18,684},{914,946},{701,884},{292,552},{547,982},{93,813},{374,991},{839,979},{516,771},{434,612},{840,926},{624,843},{198,647},{594,615},{209,673},{398,695},{222,442},{199,955},{178,881},{278,502},{290,976},{742,901},{62,523},{146,517},{96,692},{362,674},{184,638},{369,436},{335,612},{94,619},{150,440},{521,598},{182,832},{49,218},{355,680},{277,314},{132,765},{448,816},{151,565},{516,697},{18,676},{814,879},{31,151},{681,904},{744,755},{308,959},{292,648},{56,151},{168,289},{630,931},{543,696},{693,770},{33,369},{37,84},{330,701},{212,238},{820,907},{510,915},{344,578},{176,201},{478,865},{680,919},{469,507},{240,591},{175,959},{417,421},{257,979},{223,937},{201,633},{211,416},{92,491},{212,594},{67,964},{215,530},{248,548},{275,772},{576,629},{304,403},{48,312},{104,356},{714,920},{283,481},{277,799},{101,801},{101,708},{404,567},{444,837},{175,369},{795,836},{300,807},{485,549},{853,922},{974,999},{649,971},{350,805},{187,565},{348,490},{855,881},{266,954},{271,666},{704,822},{320,979},{563,958},{127,577},{39,358},{25,525},{244,264},{325,923},{277,317},{526,899},{400,736},{168,966},{6,985},{434,497},{298,395},{0,66},{71,255},{111,489},{63,163},{461,589},{139,895},{574,576},{43,267},{436,479},{199,454},{297,804},{72,485},{679,830},{232,306},{521,720},{588,732},{309,367},{2,335},{284,378},{404,997},{367,903},{830,951},{516,848},{366,380},{51,175},{204,229},{342,568},{128,445},{117,975},{42,698},{367,852},{588,977},{408,806},{807,941},{419,999},{417,894},{484,638},{207,959},{213,304},{262,708},{171,404},{555,665},{882,908},{242,386},{91,618},{109,749},{142,472},{913,951},{470,813},{310,536},{17,970},{322,977},{370,429},{277,600},{151,638},{663,999},{601,675},{340,475},{342,921},{568,926},{71,738},{147,296},{719,749},{431,497},{514,956},{677,932},{234,906},{255,937},{177,824},{569,905},{210,664},{840,923},{419,660},{120,912},{87,868},{34,324},{694,960},{587,992},{14,432},{65,168},{451,499},{119,272},{188,582},{281,713},{117,948},{370,612},{954,963},{475,695},{15,755},{86,264},{152,966},{31,198},{322,510},{342,629},{600,945},{913,920},{124,245},{594,958},{208,951},{108,838},{561,867},{506,529},{19,272},{799,820},{100,176},{580,769},{210,644},{67,93},{366,423},{442,846},{13,964},{52,341},{525,613},{469,585},{46,206},{128,723},{358,643},{37,343},{680,910},{58,411},{311,567},{453,736},{533,882},{264,927},{417,779},{524,745},{561,572},{355,644},{144,832},{212,334},{72,743},{627,985},{750,996},{902,988},{229,811},{478,758},{108,223},{138,817},{48,643},{126,750},{252,571},{206,274},{90,559},{828,952},{308,596},{150,422},{147,197},{76,171},{728,763},{304,438},{8,385},{156,879},{401,583},{39,839},{470,970},{120,282},{96,191},{160,189},{76,188},{303,769},{18,100},{172,513},{358,501},{218,356},{587,724},{329,982},{162,353},{8,185},{414,856},{166,907},{446,601},{827,880},{271,805},{468,776},{691,940},{82,909},{725,729},{86,367},{262,455},{154,389},{314,975},{261,449},{427,572},{32,310},{777,779},{170,238},{323,789},{398,561},{363,933},{693,836},{126,751},{86,919},{31,165},{445,558},{269,576},{528,997},{484,804},{240,598},{136,914},{166,823},{6,447},{177,298},{287,623},{127,278},{80,544},{319,560},{804,951},{179,968},{832,847},{675,908},{104,841},{231,983},{1,785},{529,760},{8,517},{436,510},{355,855},{98,121},{243,758},{697,954},{490,846},{523,742},{347,880},{684,901},{896,912},{672,738},{274,933},{120,952},{224,597},{411,536},{366,577},{93,105},{436,818},{656,947},{83,870},{105,287},{154,207},{311,524},{71,159},{349,751},{28,893},{185,594},{89,521},{88,879},{105,289},{555,651},{446,743},{593,650},{517,665},{488,909},{622,776},{357,835},{314,576},{194,536},{313,513},{265,575},{780,881},{495,916},{130,772},{92,894},{577,906},{731,738},{31,582},{626,896},{300,415},{64,116},{96,711},{790,835},{530,913},{328,601},{17,873},{320,601},{93,407},{625,771},{617,781},{215,449},{702,957},{339,841},{326,332},{373,466},{319,999},{170,517},{171,890},{332,880},{359,602},{339,468},{296,483},{150,213},{89,214},{56,244},{763,857},{355,850},{821,878},{621,793},{82,161},{221,557},{547,780},{697,706},{25,959},{843,927},{62,552},{111,920},{537,872},{408,725},{313,345},{194,778},{214,894},{44,122},{726,912},{460,533},{498,526},{93,361},{683,790},{226,983},{70,174},{208,942},{535,599},{50,617},{295,933},{13,124},{127,263},{114,613},{139,352},{464,636},{361,826},{534,665},{641,834},{165,815},{159,949},{621,776},{188,856},{185,681},{166,902},{198,264},{113,281},{463,587},{447,990},{434,767}};

for(int i=0;i<(sizeof(edges)/sizeof(edges[0]));i++){
            G.add_edge(edges[i][0],edges[i][1]);
            G.add_edge(edges[i][1],edges[i][0]);
    }
     int* membership;
    int  num_membership;

    membership = new int[G.num_nodes()];
    num_membership = 0;

    num_membership = naive_cc(G, membership);
    printf("num_membership = %d\n", num_membership);
#endif
}
